# newman-trace

Trace Postman collection runs with `newman-trace`.

[Newman](https://www.npmjs.com/package/newman) is a CLI tool to run Postman collections. The `newman-trace` CLI runs collections via `newman` and traces HTTP calls. Traces are recorded and exported as an [HTTP Archive (HAR)](<https://en.wikipedia.org/wiki/HAR_(file_format)>) file.

Use as a drop-in replacement for `newman`.

[![Animation of a terminal session showing the usage of newman-trace and HAR file information.](https://raw.githubusercontent.com/kevinswiber/newman-trace/main/images/newman-trace-example.svg)](https://asciinema.org/a/473770)

The HTTP Archive (HAR) format is a record of HTTP transactions with detailed performance data. It's used for measuring, logging, and comparing HTTP transaction and performance data over time.

Any HAR file tool can be used to analyze the output of `newman-trace`, such as:

- [HAR Analyzer](https://toolbox.googleapps.com/apps/har_analyzer/) by Google Admin Toolbox
- [harview CLI](https://github.com/fboender/harview)
- [Chrome DevTools](https://developer.chrome.com/docs/devtools/network/reference/#save-as-har), just drag and drop the HAR file to the Network panel.

[![Example of Chrome DevTools showing an analysis of a HAR file generated by newman-trace](https://raw.githubusercontent.com/kevinswiber/newman-trace/main/images/newman-trace-chrome-devtools.png)](https://raw.githubusercontent.com/kevinswiber/newman-trace/main/images/newman-trace-chrome-devtools.png)

HAR file output of Postman collection runs can enable integration scenarios, such as:

- [Load testing with JMeter](https://converter.blazemeter.com/)
- [Load testing with k6](https://k6.io/docs/test-authoring/recording-a-session/har-converter)
- [Penetration testing with OWASP ZAP](https://www.zaproxy.org/docs/desktop/addons/import-export/)

## Install

```
npm install -g newman-trace
```

## Usage

```
Usage: newman-trace run <collection> [newman-options] [newman-trace-options]

Options:
  --no-trace              Disable tracing
  --trace-export <path>   Specify a location for the trace file
  --trace-help            Displays this message
```

By default, the HAR file will be placed in the `newman` directory.

A version of Newman is bundled with this project. To use a different version of Newman, set the executable path as the value of the `NEWMANTRACE_NEWMAN_PATH` environment variable.

## Example

```
newman-trace run Quotable.postman_collection.json --silent
```

## License

Apache-2.0
